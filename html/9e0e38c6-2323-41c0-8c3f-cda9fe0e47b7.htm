<html><head><meta http-equiv="X-UA-Compatible" content="IE=edge" /><link rel="shortcut icon" href="../icons/favicon.ico" /><link rel="stylesheet" type="text/css" href="../styles/branding.css" /><link rel="stylesheet" type="text/css" href="../styles/branding-en-US.css" /><script type="text/javascript" src="../scripts/branding.js"> </script><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>KotakNet Core</title><meta name="Language" content="en-us" /><meta name="Microsoft.Help.Id" content="9e0e38c6-2323-41c0-8c3f-cda9fe0e47b7" /><meta name="Description" content="KotakNet.Core.dll wraps all the methods supported by Kotak API. This is where the user session is maintained. It has all methods that are necessary to build a standard trading platform" /><meta name="Microsoft.Help.ContentType" content="Concepts" /><meta name="BrandingAware" content="true" /><link type="text/css" rel="stylesheet" href="../styles/highlight.css" /><script type="text/javascript" src="../scripts/highlight.js"> </script><link rel="stylesheet" type="text/css" href="../styles/branding-Website.css" /><script type="text/javascript" src="../scripts/jquery-1.11.0.min.js"></script><script type="text/javascript" src="../scripts/branding-Website.js"></script><script type="text/javascript" src="../scripts/clipboard.min.js"></script></head><body onload="OnLoad('cs')"><input type="hidden" id="userDataCache" class="userDataStyle" /><div class="pageHeader" id="PageHeader">KotakNet DotNet Library<form id="SearchForm" method="get" action="#" onsubmit="javascript:TransferToSearchPage(); return false;"><input id="SearchTextBox" type="text" maxlength="200" /><button id="SearchButton" type="submit"></button></form></div><div class="pageBody"><div class="leftNav" id="leftNav"><div id="tocNav"><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html\c6a78a91-b3e6-4aba-a817-af302a7b5677.htm" title="KotakNet DotNet Library" tocid="roottoc">KotakNet DotNet Library</a></div><div class="toclevel1" data-toclevel="1" data-childrenloaded="true"><a class="tocExpanded" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/c6a78a91-b3e6-4aba-a817-af302a7b5677.htm" title="Getting Started" tocid="c6a78a91-b3e6-4aba-a817-af302a7b5677">Getting Started</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/66c5330f-9e11-40fb-9682-c1aa570472de.htm" title="Introduction" tocid="66c5330f-9e11-40fb-9682-c1aa570472de">Introduction</a></div><div class="toclevel2 current" data-toclevel="2"><a data-tochassubtree="false" href="../html/9e0e38c6-2323-41c0-8c3f-cda9fe0e47b7.htm" title="KotakNet Core" tocid="9e0e38c6-2323-41c0-8c3f-cda9fe0e47b7">KotakNet Core</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/c01fdbc6-79b6-42f0-93ad-cb9919673b1e.htm" title="KotakNet Bridge" tocid="c01fdbc6-79b6-42f0-93ad-cb9919673b1e">KotakNet Bridge</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/6e0d8343-fffc-4584-80df-e1a72d18a000.htm" title="KotakNet RTD" tocid="6e0d8343-fffc-4584-80df-e1a72d18a000">KotakNet RTD</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/5ef387d9-37da-4689-9845-232501ce4fd7.htm" title="Static Variables" tocid="5ef387d9-37da-4689-9845-232501ce4fd7">Static Variables</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/d11ff4b0-d5e9-4264-b314-e14a947cea8e.htm" title="Folders and Files" tocid="d11ff4b0-d5e9-4264-b314-e14a947cea8e">Folders and Files</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/e0774a72-9e12-44e8-9309-364604e9a2f9.htm" title="Privacy and Security" tocid="e0774a72-9e12-44e8-9309-364604e9a2f9">Privacy and Security</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/9006b4ff-44bd-4456-b99e-f36377253f30.htm" title="Best Pratices" tocid="9006b4ff-44bd-4456-b99e-f36377253f30">Best Pratices</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/86925bbc-d593-40b9-809d-924f1135cd77.htm" title="Troubleshooting" tocid="86925bbc-d593-40b9-809d-924f1135cd77">Troubleshooting</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/d850eeaf-dede-417b-8bcd-9905a540465a.htm" title="Resources" tocid="d850eeaf-dede-417b-8bcd-9905a540465a">Resources</a></div></div><div id="tocResizableEW" onmousedown="OnMouseDown(event);"></div><div id="TocResize" class="tocResize"><img id="ResizeImageIncrease" src="../icons/TocOpen.gif" onclick="OnIncreaseToc()" alt="Click or drag to resize" title="Click or drag to resize" /><img id="ResizeImageReset" src="../icons/TocClose.gif" style="display:none" onclick="OnResetToc()" alt="Click or drag to resize" title="Click or drag to resize" /></div></div><div class="topicContent" id="TopicContent"><table class="titleTable"><tr><td class="titleColumn"><h1>KotakNet Core</h1></td></tr></table><span class="introStyle">KotakNet DotNet Library<br /> <br /></span> <div class="introduction"><p>KotakNet.Core.dll wraps all the methods supported by Kotak API. This is where the user session is maintained. It has all methods that are necessary to build a standard trading platform</p><p>DotNet developers can build console or Winform or WPF application on the top of KotakNet.Core, build and deploy customized execution algos (like Spread orders, P2M etc) or build personalized trading platforms for clients.</p><p>DotNet developers can get started with KotakTrader or build from the scratch.</p><p>KotakTrader is a lightweight trading platform built with KotakNet. It's a winform and supports all the standard features of a trading platform. You can preview the demo here <a href="https://www.youtube.com/watch?v=VXgyNz0nZg4" target="_blank">https://www.youtube.com/watch?v=VXgyNz0nZg4</a></p><p>Github Repo: <a href="https://github.com/howutrade/kotak-trader" target="_blank">https://github.com/howutrade/kotak-trader</a></p><p>Core Docs:  <a href="T_KotakNet_Core_Kotak.htm">Kotak</a></p></div><div class="collapsibleAreaRegion" id="Section1"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID0RB')" onkeypress="SectionExpandCollapse_CheckKey('ID0RB', event)" tabindex="0"><img id="ID0RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Dependency</span></div><div id="ID0RBSection" class="collapsibleSection"><ul><li><p>WebSocket4Net.dll</p></li><li><p>SuperSocket.ClientEngine.dll</p></li><li><p>Newtonsoft.Json.dll</p></li></ul></div><div class="collapsibleAreaRegion" id="Section2"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID1RB')" onkeypress="SectionExpandCollapse_CheckKey('ID1RB', event)" tabindex="0"><img id="ID1RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Login Flow</span></div><div id="ID1RBSection" class="collapsibleSection"><ul><li><p>Set User Credentails</p></li><li><p>Call Kotak.Login</p></li><li><p>Call Kotak.GetMasterContract</p></li></ul><p>Symbols will be downloaded in the background, please wait for the symbols to download before making any calls. Check SymbolStatus property for the download status</p></div><div class="collapsibleAreaRegion" id="Section3"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID2RB')" onkeypress="SectionExpandCollapse_CheckKey('ID2RB', event)" tabindex="0"><img id="ID2RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Common Parameters</span></div><div id="ID2RBSection" class="collapsibleSection"><div class="tableSection"><table><tr><th><p>Parameter</p></th><th><p>Value</p></th></tr><tr><td><p>Exch</p></td><td><p>NSE|NFO|BSE|CDS|MCX</p></td></tr><tr><td><p>Trdsym</p></td><td><p>CASH: Symbol (Ex: ITC)</p><p>FUT: [SYMBOL][YYMMMDD][FUT] (Ex: NIFTY22FEB24FUT)</p><p>OPT: [SYMBOL][YYMMMDD][STRIKE][OPT] (Ex: NIFTY22FEB2417300CE)</p></td></tr><tr><td><p>Transactions</p></td><td><p>BUY|SELL (SHORT|COVER)</p></td></tr><tr><td><p>Order Type</p></td><td><p>LIMIT|MARKET|SL|SL-M</p></td></tr><tr><td><p>Product Type</p></td><td><p>MIS|NRML</p></td></tr><tr><td><p>Quantity</p></td><td><p>CASH: Number of shares to Buy or Sell</p><p>FNO: Number of lots to Buy or Sell (Not LotSize)</p></td></tr><tr><td><p>Validity</p></td><td><p>DAY|IOC</p></td></tr><tr><td><p>Limit/Trigger Price</p></td><td><p>Number (KotakNet will automatically round the price to ticksize)</p></td></tr><tr><td><p>Stgycode</p></td><td><p>Alphanumeric, must be 3 characters</p></td></tr><tr><td><p>Tag</p></td><td><p>Alphanumeric, must be 3-24 characters</p></td></tr></table></div></div><div class="collapsibleAreaRegion" id="Section4"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID4RB')" onkeypress="SectionExpandCollapse_CheckKey('ID4RB', event)" tabindex="0"><img id="ID4RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Quick Start (Building From Scratch)</span></div><div id="ID4RBSection" class="collapsibleSection"><p>Create a new project in Visual Studio, add reference to the below DLLs</p><ul><li><p>KotakNet.Core.dll</p></li><li><p>WebSocket4Net.dll</p></li><li><p>SuperSocket.ClientEngine.dll</p></li><li><p>Newtonsoft.Json.dll</p></li></ul><div class="codeSnippetContainer"><div class="codeSnippetContainerTabs"><div id="ID3EAAADAAA_tab1" class="codeSnippetContainerTabSingle">VB</div></div><div class="codeSnippetContainerCodeContainer"><div class="codeSnippetToolBar"><div class="codeSnippetToolBarText"><a id="ID3EAAADAAA_copyCode" href="#" class="copyCodeSnippet" onclick="javascript:CopyToClipboard('ID3EAAADAAA');return false;" title="Copy">Copy</a></div></div><div id="ID3EAAADAAA_code_Div1" class="codeSnippetContainerCode" style="display: block"><pre xml:space="preserve"><span class="highlight-keyword">Imports</span> KotakNet.Core
<span class="highlight-keyword">Imports</span> System.Threading

<span class="highlight-keyword">Module</span> Demo
    <span class="highlight-keyword">Public</span> Kotak <span class="highlight-keyword">As</span> <span class="highlight-keyword">New</span> Kotak

    <span class="highlight-comment">''' This is a basic example without any error handling</span>
    <span class="highlight-keyword">Sub</span> Main()
        <span class="highlight-comment">'///Set Credentials</span>
        <span class="highlight-comment">'///set UserID property first before other properties as the settings are saved to file with 'UserID' as name</span>
        Kotak.UserID = <span class="highlight-literal">"XXXXXXXXX"</span>
        Kotak.ConsumerKey = <span class="highlight-literal">"xxxxxxxxxxxxxxxxxxxx"</span>
        Kotak.ConsumerSecret = <span class="highlight-literal">"xxxxxxxxxxxxxxxxxx"</span>
        Kotak.AccessToken = <span class="highlight-literal">"xxxxxxxxxx"</span>
        Kotak.Password = <span class="highlight-literal">"xxxx"</span>

        <span class="highlight-comment">'///Subscribe to Events</span>
        <span class="highlight-keyword">AddHandler</span> Kotak.AppUpdateEvent, <span class="highlight-keyword">AddressOf</span> AppUpdate
        <span class="highlight-keyword">AddHandler</span> Kotak.OrderUpdateEvent, <span class="highlight-keyword">AddressOf</span> OrderUpdate
        <span class="highlight-keyword">AddHandler</span> Kotak.QuotesReceivedEvent, <span class="highlight-keyword">AddressOf</span> QuotesReceived

        <span class="highlight-comment">'///Login to get Session Token</span>
        Kotak.Login()

        <span class="highlight-comment">'///Download Symbols</span>
        Kotak.GetMasterContract()

        <span class="highlight-comment">'/// Wait for the symbols to download</span>
        <span class="highlight-keyword">Dim</span> count <span class="highlight-keyword">As</span> <span class="highlight-keyword">Integer</span> = <span class="highlight-number">0</span>
        <span class="highlight-keyword">Do</span>
            count = count + <span class="highlight-number">1</span>
            Thread.Sleep(<span class="highlight-number">1000</span>)
            <span class="highlight-keyword">If</span> (Kotak.SymbolStatus <span class="highlight-keyword">OrElse</span> count &gt; <span class="highlight-number">300</span>) <span class="highlight-keyword">Then</span> <span class="highlight-keyword">Exit</span> <span class="highlight-keyword">Do</span>
        <span class="highlight-keyword">Loop</span>

        <span class="highlight-keyword">If</span> <span class="highlight-keyword">Not</span> Kotak.SymbolStatus <span class="highlight-keyword">Then</span>
            MsgBox(<span class="highlight-literal">"Symbol download fail"</span>, MsgBoxStyle.Exclamation, <span class="highlight-literal">"KotakNet"</span>)
            <span class="highlight-keyword">Exit</span> <span class="highlight-keyword">Sub</span>
        <span class="highlight-keyword">End</span> <span class="highlight-keyword">If</span>

        <span class="highlight-comment">'///Subscribe for Quotes</span>
        Kotak.SubscribeQuotes(<span class="highlight-literal">"NSE"</span>, <span class="highlight-literal">"ITC"</span>)
        Kotak.SubscribeQuotes(<span class="highlight-literal">"MCX"</span>, <span class="highlight-literal">"CRUDEOIL22FEB18FUT"</span>)

        <span class="highlight-comment">'///Place an order</span>
        <span class="highlight-keyword">Dim</span> OrderId <span class="highlight-keyword">As</span> <span class="highlight-keyword">String</span> = Kotak.PlaceRegularOrder(<span class="highlight-literal">"NSE"</span>, <span class="highlight-literal">"ITC"</span>, <span class="highlight-literal">"BUY"</span>, <span class="highlight-literal">"MARKET"</span>, <span class="highlight-number">1</span>, <span class="highlight-literal">"NRML"</span>, <span class="highlight-number">0</span>, <span class="highlight-number">0</span>)
        Console.WriteLine(<span class="highlight-literal">"OrderID: "</span> &amp; OrderId)

        Console.WriteLine(<span class="highlight-literal">"Press Any Key to exit"</span>)
        Console.ReadKey()
    <span class="highlight-keyword">End</span> <span class="highlight-keyword">Sub</span>

    <span class="highlight-keyword">Private</span> <span class="highlight-keyword">Sub</span> OrderUpdate(sender <span class="highlight-keyword">As</span> <span class="highlight-keyword">Object</span>, e <span class="highlight-keyword">As</span> OrderUpdateEventArgs)
        Console.WriteLine(<span class="highlight-literal">"OrderUpdate - OrderId: "</span> &amp; e.OrderId &amp; <span class="highlight-literal">" Status: "</span> &amp; e.Status)
    <span class="highlight-keyword">End</span> <span class="highlight-keyword">Sub</span>

    <span class="highlight-keyword">Private</span> <span class="highlight-keyword">Sub</span> AppUpdate(sender <span class="highlight-keyword">As</span> <span class="highlight-keyword">Object</span>, e <span class="highlight-keyword">As</span> AppUpdateEventArgs)
        Console.WriteLine(<span class="highlight-literal">"AppUpdate - Message: "</span> &amp; e.EventMessage)
    <span class="highlight-keyword">End</span> <span class="highlight-keyword">Sub</span>

    <span class="highlight-keyword">Private</span> <span class="highlight-keyword">Sub</span> QuotesReceived(sender <span class="highlight-keyword">As</span> <span class="highlight-keyword">Object</span>, e <span class="highlight-keyword">As</span> QuotesReceivedEventArgs)
        Console.WriteLine(<span class="highlight-literal">"QuotesReceived - Symbol: "</span> &amp; e.TrdSym &amp; <span class="highlight-literal">" Ltp: "</span> &amp; e.LTP &amp; <span class="highlight-literal">" LTT: "</span> &amp; e.LTT.ToString(<span class="highlight-literal">"HH:mm:ss"</span>))
    <span class="highlight-keyword">End</span> <span class="highlight-keyword">Sub</span>
<span class="highlight-keyword">End</span> <span class="highlight-keyword">Module</span></pre></div></div></div><script type="text/javascript">AddLanguageTabSet("ID3EAAADAAA");</script></div><div class="alert"><table><tr><th><img src="../icons/AlertNote.png" alt="Note" /> Note</th></tr><tr><td><p>set UserID property first before other properties as the settings are saved to file with 'UserID' as name</p></td></tr></table></div><div class="alert"><table><tr><th><img src="../icons/AlertCaution.png" alt="Caution note" /> Caution</th></tr><tr><td><p>In real case scenario, you need to add static variables (wherever applicable) to remove redundant calls</p></td></tr></table></div><div class="alert"><table><tr><th><img src="../icons/AlertSecurity.png" alt="Security note" /> Security Note</th></tr><tr><td><p>Store your credentials in a safe place, make sure you removed/masked any sensitve informations while sharing your project/code with others or while making video content</p></td></tr></table></div></div></div><div id="pageFooter" class="pageFooter">Document created with <a href="https://github.com/EWSoftware/SHFB">Sandcastle Help File Builder!</a><br /><p><a href="https://howutrade.in" target="_blank">Ⓒ 2022 Howutrade Software Solutions LLP</a></p><div class="feedbackLink">Send comments on this topic to
        <a id="HT_MailLink" href="mailto:feedback%40howutrade.in?Subject=KotakNet DotNet Library">Howutrade</a></div>
        <script type="text/javascript">
        var HT_mailLink = document.getElementById("HT_MailLink");
        var HT_mailLinkText = HT_mailLink.innerHTML;
        HT_mailLink.href += ": " + document.title + "\u0026body=" + encodeURIComponent("Your feedback is used to improve the documentation and the product. Your e-mail address will not be used for any other purpose and is disposed of after the issue you report is resolved. While working to resolve the issue that you report, you may be contacted via e-mail to get further details or clarification on the feedback you sent. After the issue you report has been addressed, you may receive an e-mail to let you know that your feedback has been addressed.");
        HT_mailLink.innerHTML = HT_mailLinkText;
        </script></div></body></html>